<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>R.Raimundo - Ferramentas Modernas</title>

  <link rel="shortcut icon" href="assets/icon.png" type="image/x-icon" />

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Fontes / Ícones -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
  <script src="https://kit.fontawesome.com/b73db7ae32.js" crossorigin="anonymous"></script>

  <!-- Libs PDF/Canvas -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf-lib/1.17.1/pdf-lib.min.js" defer></script>

  <!-- CSS custom -->
  <link rel="stylesheet" href="styles.css" />
</head>

<body class="bg-slate-50 text-gray-800">
  <header class="bg-gray-800 shadow-lg sticky top-0 z-50">
    <nav id="navbar" class="container mx-auto flex items-center justify-between p-2">
      <img src="assets/logo.svg" alt="logo" data-target="home"
        class="w-36 cursor-pointer transition-opacity duration-500 hover:opacity-50" />
      <div class="flex items-center space-x-2 md:space-x-4">
        <a href="#referencias" data-target="referencias"
          class="text-white text-sm md:text-base py-2 px-3 rounded-lg opacity-75 hover:opacity-100 hover:bg-gray-700/60">Referências</a>
        <a href="#pdf" data-target="pdf"
          class="text-white text-sm md:text-base py-2 px-3 rounded-lg opacity-75 hover:opacity-100 hover:bg-gray-700/60">PDF</a>
        <a href="#desenvolvimento" data-target="desenvolvimento"
          class="text-white text-sm md:text-base py-2 px-3 rounded-lg opacity-75 hover:opacity-100 hover:bg-gray-700/60">Desenvolvimento</a>
      </div>
    </nav>
  </header>

  <main>
    <!-- Home -->
    <section id="home" class="content">
      <div class="animated-gradient h-[calc(100vh-60px)] flex flex-col justify-center items-center">
        <div
          class="bg-[url('assets/background.svg')] bg-cover w-full h-full flex flex-col justify-center items-center opacity-40">
          <img src="assets/logo.svg" alt="logo" class="h-24 image-pulse mb-4" />
          <h1 class="text-white text-2xl md:text-3xl font-light tracking-wide text-center">
            Olá, Seja bem-vindo às Ferramentas da R. Raimundo
          </h1>
        </div>
      </div>
    </section>

    <!-- Bloco de ferramentas -->
    <div class="container mx-auto px-4">
      <!-- Referências -->
      <section id="referencias" class="content hidden">
        <div class="bg-white rounded-lg shadow-xl max-w-4xl mx-auto my-8 p-6 md:p-8 flex flex-col items-center">
          <h1 class="text-2xl md:text-3xl font-bold text-center text-gray-700 mb-2">Gerador de Referências</h1>
          <p class="text-center text-gray-500 mb-6">Digite suas referências no formato especificado e clique em "Gerar".
          </p>
          <textarea id="referencesInput" rows="10" placeholder="Exemplo: MX-137/A (37-43)"
            class="w-full max-w-2xl p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"></textarea>
          <button id="generateReferences"
            class="mt-4 w-full md:w-auto inline-flex items-center justify-center font-bold py-2 px-4 rounded-lg shadow-md transition-transform transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 bg-blue-600 hover:bg-blue-700 text-white focus:ring-blue-500">
            <i class="fa-solid fa-circle-plus mr-2"></i>Gerar Referências
          </button>
          <div class="w-full mt-6">
            <div class="flex justify-between items-center mb-2">
              <h2 class="text-xl font-semibold">Referências Geradas:</h2>
              <button id="copyBtn"
                class="inline-flex items-center justify-center font-bold py-2 px-4 rounded-lg shadow-md transition-transform transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 bg-gray-600 hover:bg-gray-700 text-white focus:ring-gray-500">
                <i class="fa-solid fa-clone mr-2"></i>Copiar
              </button>
            </div>
            <div id="output"
              class="mt-4 p-4 w-full border border-gray-200 rounded-md bg-gray-50 min-h-[100px] whitespace-pre-wrap font-mono text-sm">
            </div>
          </div>
        </div>
      </section>

      <!-- PDF -->
      <section id="pdf" class="content hidden">
        <div class="bg-white rounded-lg shadow-xl max-w-4xl mx-auto my-8 p-6 md:p-8 flex flex-col items-center">
          <h1 class="text-2xl md:text-3xl font-bold text-center text-gray-700 mb-2">Junte Seus PDF's Aqui</h1>
          <form id="pdfForm" class="w-full flex flex-col items-center">
            <input type="file" id="pdfFiles" multiple accept="application/pdf"
              class="block w-full max-w-md text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full
                     file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100" />
            <button type="submit" class="mt-4 inline-flex items-center justify-center font-bold py-2 px-4 rounded-lg shadow-md
                     bg-blue-600 hover:bg-blue-700 text-white focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
              <i class="fa-solid fa-wand-magic-sparkles mr-2"></i>Mesclar PDFs
            </button>
          </form>
          <div id="result" class="w-full mt-6"></div>
        </div>
      </section>

      <!-- Desenvolvimento -->
      <section id="desenvolvimento" class="content hidden">
        <div class="max-w-3xl mx-auto bg-white shadow-lg rounded-xl p-8">
          <h1 class="text-2xl md:text-3xl font-bold text-center text-gray-700 mb-2">Novo Orçamento</h1>

          <form id="budget-form" class="grid grid-cols-1 md:grid-cols-2 gap-6 justify-items-center">
            <div class="w-full max-w-[340px]">
              <label class="block mb-1 font-semibold text-gray-700">Silk</label>
              <input type="text" id="silk"
                class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500"
                placeholder="Ex: Jorge Bischoff" required />
            </div>
            <div class="w-full max-w-[340px]">
              <label class="block mb-1 font-semibold text-gray-700">Cliente</label>
              <input type="text" id="cliente"
                class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500"
                placeholder="Ex: Albanese" required />
            </div>

            <div class="w-full max-w-[340px]">
              <label class="block mb-1 font-semibold text-gray-700">Matriz Serigráfica (R$)</label>
              <input type="number" id="matriz-valor" value="70" step="0.01"
                class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500" required />
            </div>
            <div class="w-full max-w-[340px]">
              <label class="block mb-1 font-semibold text-gray-700">Qtd. Matriz</label>
              <input type="number" id="matriz-qtd" value="1"
                class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500" required />
            </div>

            <div class="w-full max-w-[340px]">
              <label class="block mb-1 font-semibold text-gray-700">Gravação + Fotolito (R$)</label>
              <input type="number" id="gravacao-valor" value="10" step="0.01"
                class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500" required />
            </div>
            <div class="w-full max-w-[340px]">
              <label class="block mb-1 font-semibold text-gray-700">Qtd. Gravação</label>
              <input type="number" id="gravacao-qtd" value="1"
                class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500" required />
            </div>

            <div class="w-full max-w-[340px]">
              <label class="block mb-2 font-semibold text-gray-700">Unidade de medida</label>
              <div id="unidade-group" class="flex gap-3">
                <button type="button" data-unidade="Par"
                  class="px-4 py-2 rounded-lg border bg-blue-600 text-white shadow hover:bg-blue-700 transition">Par</button>
                <button type="button" data-unidade="Metro"
                  class="px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-100 transition">Metro</button>
                <button type="button" data-unidade="Unidade"
                  class="px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-100 transition">Unidade</button>
              </div>
            </div>
            <div class="w-full max-w-[340px]">
              <label class="block mb-1 font-semibold text-gray-700">Imagem do Desenvolvimento</label>
              <input type="file" id="imagem-desenvolvimento" accept="image/*"
                class="block w-full text-sm text-slate-600 file:mr-4 file:py-2 file:px-4 file:rounded-lg
                       file:border-0 file:font-semibold file:bg-blue-600 file:text-white hover:file:bg-blue-700 cursor-pointer" />
            </div>

            <div class="w-full max-w-[340px] md:col-span-2">
              <label class="block mb-1 font-semibold text-gray-700">Valor por <span id="label-unidade">Par</span>
                (R$)</label>
              <input type="number" id="valor-par" value="1.20" step="0.01"
                class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500" required />
            </div>



            <div class="md:col-span-2 flex justify-center gap-4 mt-4">
              <button type="submit"
                class="inline-flex items-center justify-center font-bold py-2 px-4 rounded-lg shadow-md transition-transform transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 bg-gray-600 hover:bg-gray-700 text-white focus:ring-gray-500">
                Gerar Orçamento
              </button>
              <button id="download-pdf" disabled class="inline-flex items-center justify-center font-bold py-2 px-4 rounded-lg shadow-md
                       bg-gray-400 text-white opacity-60 cursor-not-allowed">
                📄 Baixar PDF
              </button>
            </div>
          </form>
        </div>
      </section>

      <!-- Documento Orçamento -->
      <div id="document-section" class="max-w-4xl mx-auto hidden">
    <div id="a4-container" class="a4-page mb-6">
      <div class="watermark-container"></div>

      <div class="content-wrapper flex flex-col h-full">
        <header class="header-preto text-center mb-12">
          <p class=" titulo-silk">
            Silk:
            <span id="doc-silk" class="font-normal"></span>
          </p>
          <p class="header-info text-base font-semibold">
            Cliente:
            <span id="doc-cliente" class="font-normal"></span>
          </p>
          <p class=" header-info text-base font-semibold ">
            Data:
            <span id="doc-data" class="font-normal"></span>
          </p>
        </header>

        <main class="flex-grow">
          <div class="mb-10">
            <h2 class="text-lg font-bold text-[var(--text-primary)] mb-4">
              Desenvolvimento
            </h2>
            <div class="overflow-x-auto">
              <table class="w-full text-left text-sm">
                <thead class="border-b-2 border-[var(--border-color)]">
                  <tr>
                    <th class="py-2 pr-4 font-semibold text-[var(--text-primary)] w-2/5">
                      Item
                    </th>
                    <th class="py-2 px-4 font-semibold text-[var(--text-primary)] text-right">
                      Valor Unitário
                    </th>
                    <th class="py-2 px-4 font-semibold text-[var(--text-primary)] text-center">
                      Quantidade
                    </th>
                    <th class="py-2 pl-4 font-semibold text-[var(--text-primary)] text-right">
                      Valor Total
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr class="border-b border-[var(--border-color)]">
                    <td class="py-3 pr-4 text-[var(--text-secondary)]">
                      Matriz Serigráfica
                    </td>
                    <td id="doc-matriz-valor" class="py-3 px-4 text-[var(--text-secondary)] text-right"></td>
                    <td id="doc-matriz-qtd" class="py-3 px-4 text-[var(--text-secondary)] text-center"></td>
                    <td id="doc-matriz-total" class="py-3 pl-4 text-[var(--text-secondary)] text-right"></td>
                  </tr>
                  <tr class="border-b border-[var(--border-color)]">
                    <td class="py-3 pr-4 text-[var(--text-secondary)]">
                      Gravação + Fotolito
                    </td>
                    <td id="doc-gravacao-valor" class="py-3 px-4 text-[var(--text-secondary)] text-right"></td>
                    <td id="doc-gravacao-qtd" class="py-3 px-4 text-[var(--text-secondary)] text-center"></td>
                    <td id="doc-gravacao-total" class="py-3 pl-4 text-[var(--text-secondary)] text-right"></td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="text-right mt-4 pr-4">
              <p class="text-sm font-normal text-[var(--text-secondary)]">
                Valor total do Desenvolvimento:
                <span id="doc-desenvolvimento-total" class="font-bold text-[var(--text-primary)]"></span>
              </p>
            </div>
          </div>

          <div class="my-10">
            <div
              class="w-full h-56 border border-[var(--border-color)] rounded-lg flex items-center justify-center bg-gray-50 overflow-hidden">
              <img id="doc-imagem" class="max-h-full max-w-full object-contain" alt="Desenvolvimento" />
            </div>
          </div>

          <div class="text-center mb-12">
            <p class="text-base font-normal text-[var(--text-primary)]">
              Valor por par estampado:
              <span id="doc-valor-par" class="font-bold"></span>
            </p>
          </div>
        </main>

        <footer class="text-center pt-6 border-t border-[var(--border-color)] mt-auto">
          <div class="flex justify-center mb-3">
            <img src="/assets/logorraimundo.svg" alt="R Raimundo Serigrafia" class="h-240 w-auto" />
          </div>
          <p class="text-xs font-normal text-[var(--text-secondary)]">
            Idealizado por: José Ricardo Goulart™
          </p>
        </footer>
      </div>
    </div>
  </div>
    </div>
  </main>

  <!-- JS da aplicação -->
  <script src="app.js" defer></script>
</body>

</html>